<!DOCTYPE html
    PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>IGMP</title>
    <link href="../css/bootstrap.min.css" rel="stylesheet" type="text/css">
    <script src="../js/jquery.min.js"></script>
    <script src="../js/bootstrap.min.js"></script>
</head>

<body>
    <h3
        style="font-weight: bolder; text-align: center;background-color: rgb(241,241,241);height: 48px;line-height: 48px;">
        IGMP</h3>
    <div class="container-fluid">
        <div class="row" style="margin-top: 20px;">
            <label class="col-md-offset-4 col-md-1" style="text-transform: uppercase;">IGMP状态:</label>
            <label class="col-md-1" style="color: red;" id="txtIgmpStatus">不使能</label>
            <div class="col-md-2">
                <button type="button" id="btnIgmpEnable" class="btn btn-primary">使能</button>
                <button type="button" id="btnIgmpDiasabe" class="btn btn-primary">不使能</button>
            </div>
        </div>
        <div class="row"style="margin-top: 20px;">
            <label class="col-md-offset-4 col-md-1 control-label" style="text-transform: uppercase;">AGING TIME:</label>
            <label class="col-md-1 control-label" style="color: red;" id="txtAgingOld">oldvalue</label>
            <input id="txtAging" placeholder="输入后按enter键保存" />
        </div>
        <div class="row"style="margin-top: 20px;">
            <label class="col-md-offset-4 col-md-1 control-label" style="text-transform: uppercase;">fast-leave:</label>
            <label class="col-md-1 control-label" style="color: red;" id="txtFast">使能</label>
            <div class="col-md-2">
                <button type="button" id="btnFastEnable" class="btn btn-primary">使能</button>
                <button type="button" id="btnFastDisable" class="btn btn-primary">不使能</button>
            </div>
        </div>
    </div>
    <div>
        <table class="table table-striped table-bordered table-hover">
            <thead>
                <tr>
                    <td>vlan</td>
                    <td>mac-group</td>
                    <td>port-list</td>
                </tr>
            </thead>
            <tbody id="bodyIgmp">
                <tr>
                    <td>1</td>
                    <td>1</td>
                    <td>1</td>
                </tr>
            </tbody>
        </table>
    </div>
    <div>
        <form id="hForm" style="display: none; visibility:hidden;" method="post" action="/goform/">
            <input name="hStatus" value="" />
            <input name="hAging" value="" />
            <input name="hFast" value="" />
        </form>
    </div>
    <script>
        var dataset = [];
        var igmpInfo = [];
        var currentStatus = 0;
        var currentAging = 0;
        var currentFast = 0;
        var selectedStatus = 0;
        var selected = 0;
        var html = '';
        var statusTextArray = ["不使能", "使能"]
        function getData() {
            for (let i = 0; i < 100; i++) {
                dataset.push([(i + 1), (i + 1), (i + 1)]);
            }
        }

        function loadPage() {
            let tCount = dataset.length;
            if (tCount > 0) {
                html = ('');
                for (let i = 0; i < tCount; i++) {
                    html += ('                <tr>');
                    html += ('<td>' + dataset[i][0] + '</td>');
                    html += ('<td>' + dataset[i][1] + '</td>');
                    html += ('<td>' + dataset[i][2] + '</td>');
                    html += ('</tr>');
                }
                $("#bodyIgmp").html(html);
            }
            if (igmpInfo.length > 1) {
                $("#txtIgmpStatus").html(statusTextArray[igmpInfo[0]]);
                $("#txtAgingOld").html(igmpInfo[1]);
                $("#txtFast").html(statusTextArray[igmpInfo[2]]);
            }
        }

        function checkData() {

        }

        $("#txtAging").on("keyup", function (event) {
            event.preventDefault();
            if (event.keyCode === 13) {
                alert($(this).val());
            }
        });

        $("#btnIgmpEnable").click(function () {
            alert(111);
            selectedStatus = 1;
        });

        $("#btnIgmpDiasabe").click(function () {
            alert(222);
        });

        $("#btnFastEnable").click(function () {
            alert(333);
            selected = 1;
        });

        $("#btnFastDisable").click(function () {
            alert(444);
            selected = 0;
        });

        $(document).ready(function () {
            getData();
            loadPage();
        });
    </script>
</body>

</html>